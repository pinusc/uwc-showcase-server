webpackJsonp([1],Array(22).concat([function(t,e,s){s(94);var i=s(1)(s(50),s(118),"data-v-251f3f1d",null);t.exports=i.exports},function(t,e,s){s(99);var i=s(1)(s(52),s(123),null,null);t.exports=i.exports},function(t,e,s){s(97);var i=s(1)(s(54),s(121),"data-v-66a8e2ee",null);t.exports=i.exports},,function(t,e){},,function(t,e,s){s(95);var i=s(1)(s(48),s(119),null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(91),s(89),s(90),window.Quill||(window.Quill=s(21)),e.default={name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var t=this;t.options.theme=t.options.theme||"snow",t.options.boundary=t.options.boundary||document.body,t.options.modules=t.options.modules||t.defaultModules,t.options.modules.toolbar=t.options.modules.toolbar||t.defaultModules.toolbar,t.options.placeholder=t.options.placeholder||"Insert text here ...",t.options.readOnly=void 0!==t.options.readOnly&&t.options.readOnly,t.options.modules.toolbar=t.options.modules.toolbar||defaultOptions.modules.toolbar,t.quill=new Quill(t.$el,t.options),(t.value||t.content)&&t.quill.pasteHTML(t.value||t.content),t.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),t.quill.on("text-change",function(e,s,i){var a=t.$el.children[0].innerHTML,n=t.quill.getText();"<p><br></p>"===a&&(a=""),t._content=a,t.$emit("input",t._content),t.$emit("change",{editor:t.quill,html:a,text:n})}),t.$emit("ready",t.quill)}}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))}}}},function(t,e,s){"use strict";function i(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(24),n=s.n(a),o=s(22),l=s.n(o),r=s(114),c=s.n(r),u=s(23),d=s.n(u),p=(s(57),s(113)),m=s.n(p),h=s(115),v=s.n(h),f=s(2),b=s.n(f),_={name:"app",components:{Tile:n.a,Modal:l.a,NewPost:c.a,ParentTile:d.a,Calendar:m.a,Post:v.a},data:function(){return{showMakePost:!1,posts:[],tags:{help:1,projects:1,events:1,zhi:1},w:0,breakpoints:{},showSubscribe:!1,isMailValid:!1,emailSubscribe:"",subscribed:!1,showLabels:!1}},mounted:function(){this.getMorePosts(10),window.addEventListener("resize",this.resized),this.resized()},methods:{getMorePosts:function(t){var e=this,s="/api/post/?&optSort=createdAt&optDirection=-1",t=void 0!==t?"&optLimit="+t:"";s+=t+(this.posts.length?"&optSkip="+this.posts.length:""),console.log("URLLLL"),console.log(s),b.a.get(s,{headers:{Accept:"application/json"}}).then(function(t){e.posts=e.posts.concat(t.data)})},resized:function(t){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);this.w=e,this.breakpoints={mobile:e<=768,tablet:e>768,tablet_only:e>768&&e<=999,touch:e<=999,desktop:e>999,desktop_only:e>999&&e<=1191,widescreen:e>1191,widescreen_only:e>1192&&e<=1383,fullhd:e>=1384}},toggleTag:function(t){this.tags[t.target.id.slice(4)]=!this.tags[t.target.id.slice(4)],console.log(this.tags)},subscribe:function(t){var e=this;i(this.emailSubscribe)&&b.a.post("/api/user",{subscribed:!0,email:this.emailSubscribe}).then(function(t){201===t.status?(e.subscribed=!0,window.setTimeout(function(){e.subscribed=!1},3e3)):console.log(t)}),this.showSubscribe=!this.showSubscribe,this.emailSubscribe=""}},computed:{nCol:function(){var t=5;return this.breakpoints.widescreen||(t=4),this.breakpoints.desktop||(t=3),t}},watch:{emailSubscribe:function(t){console.log("sss"),i(t)?this.isMailValid=0:this.isMailValid=1}}};e.default=_},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{demoEvents:[{date:"2016/12/15",title:"Foo",desc:"longlonglong description"},{date:"2016/11/12",title:"Bar"}]}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Modal",props:["name"],data:function(){return{}},methods:{modalClose:function(){location.hash=="#"+this.name&&(location.hash="")},childListener:function(t){t.stopPropagation()}}}},function(t,e,s){"use strict";function i(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(11),n=s.n(a),o=s(2),l=s.n(o);e.default={name:"NewPost",components:{VueQuillEditor:n.a},data:function(){return{postText:"",email:"",title:"",isMailValid:1,content:"<h3>Write your post here!</h3>"}},watch:{email:function(t){i(t)?t.toLowerCase().endsWith("@uwcchina.org")?this.isMailValid=0:this.isMailValid=2:this.isMailValid=1}},methods:{submitPost:function(){var t=this;this.isMailValid||l.a.post("/api/post",{body:this.content,title:this.title,email:this.email}).then(function(e){console.log(e),t.posts=e.data})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(24),a=s.n(i);e.default={components:{Tile:a.a},name:"ParentTile",props:["childList"],beforeCreate:function(){this.$options.components.ParentTile=s(23)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(2),a=(s.n(i),s(22)),n=s.n(a),o=s(104);s.n(o);e.default={name:"Post",components:{Modal:n.a},props:["post"],data:function(){return{hasImg:Math.random()>.5,n:Math.floor(201*Math.random()),tagi:[Math.floor(3*Math.random()+1)],tagj:[Math.floor(3*Math.random()+1)]}},computed:{tags:function(){return["help","projects","events","zhi"][this.tagi]}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tile",props:["title","text"]}},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(12),a=s(28),n=s.n(a),o=s(11),l=s.n(o),r=s(26),c=(s.n(r),s(27)),u=s.n(c),d=s(29);i.a.use(u.a,{locale:"en"}),i.a.use(d.a),i.a.use(l.a),i.a.config.productionTip=!1;new i.a({el:"#app",template:"<App/>",components:{App:n.a}})},function(t,e,s){"use strict";var i=s(110);s.n(i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,function(t,e,s){var i=s(1)(s(55),null,null,null);t.exports=i.exports},function(t,e,s){s(93);var i=s(1)(s(47),s(117),null,null);t.exports=i.exports},function(t,e,s){s(96);var i=s(1)(s(49),s(120),null,null);t.exports=i.exports},function(t,e,s){s(98);var i=s(1)(s(51),s(122),null,null);t.exports=i.exports},function(t,e,s){s(92);var i=s(1)(s(53),s(116),"data-v-114edfe0",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post"},[s("a",{attrs:{href:"#"+t.post._id}},[s("div",{staticClass:"card"},[t.hasImg?s("div",{staticClass:"card-image is-hidden-mobile"},[s("figure",{staticClass:"image is-4by3"},[s("img",{attrs:{src:"https://unsplash.it/400/300/?image="+t.n,alt:"Image"}})])]):t._e(),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[t.hasImg?s("div",{staticClass:"media-left is-hidden-tablet"},[s("figure",{staticClass:"is-4by3"},[s("img",{attrs:{src:"https://unsplash.it/400/300/?image="+t.n,alt:"Image"}})])]):t._e(),t._v(" "),s("div",{staticClass:"media-content"},[s("p",{staticClass:"title"},[t._v(t._s(t.post.title))])])]),t._v(" "),t.hasImg?t._e():s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.body?t.post.body.slice(0,140).concat(t.post.body.length>140?"...":""):"")}})])])]),t._v(" "),s("Modal",{attrs:{name:t.post._id}},[s("h1",{staticClass:"title is-3"},[t._v(t._s(t.post.title))]),t._v(" "),s("p",{domProps:{innerHTML:t._s(t.post.body||"")}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"quill-editor"})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modalDialog",attrs:{id:t.name},on:{click:t.modalClose}},[s("div",{staticClass:"box notification",on:{click:t.childListener}},[s("button",{staticClass:"delete",attrs:{title:"Close"},on:{click:t.modalClose}}),t._v(" "),t._t("default",[t._v("404")])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("section",{staticClass:"hero is-primary"},[t._m(0),t._v(" "),s("div",{staticClass:"hero-footer"},[s("div",{staticClass:"field is-grouped"},[t._m(1),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"field",class:t.showSubscribe?"has-addons":""},[s("p",{staticClass:"control"},[s("button",{staticClass:"button",class:t.subscribed?"is-success":"is-primary",attrs:{id:"subscribe"},on:{click:t.subscribe}},[t._v("\n              "+t._s(t.subscribed?"Successfully subscribed!":"Subscribe")+"\n            ")])]),t._v(" "),s("p",{staticClass:"control has-icon is-expanded",class:t.showSubscribe?"":"hide",attrs:{id:"subscribeEmailFieldContainer"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.emailSubscribe,expression:"emailSubscribe"}],staticClass:"input subscribe",class:"is-"+["success","danger"][t.isMailValid],attrs:{id:"emailField",type:"email",placeholder:"Email input",value:"someone@example.com"},domProps:{value:t.emailSubscribe},on:{input:function(e){e.target.composing||(t.emailSubscribe=e.target.value)}}}),t._v(" "),t._m(3)])]),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",on:{click:function(e){t.showLabels=!t.showLabels}}},[t._v("Filter")])]),t._v(" "),s("div",{staticClass:"field",class:t.showLabels?"":"hide",attrs:{id:"labelsContainer"}},[s("a",{staticClass:"tag is-medium is-primary",class:t.tags.help?"":"is-grey",attrs:{id:"tag-help",href:"#"},on:{click:t.toggleTag}},[t._v("Help")]),t._v(" "),s("a",{staticClass:"tag is-medium is-warning",class:t.tags.projects?"":"is-grey",attrs:{id:"tag-projects",href:"#"},on:{click:t.toggleTag}},[t._v("Projects")]),t._v(" "),s("a",{staticClass:"tag is-medium is-danger is-active is-inverted",class:t.tags.events?"":"is-grey",attrs:{id:"tag-events",href:"#"},on:{click:t.toggleTag}},[t._v("Events")]),t._v(" "),s("a",{staticClass:"tag is-medium is-success",class:t.tags.zhi?"":"is-grey",attrs:{id:"tag-zhi",href:"#"},on:{click:t.toggleTag}},[t._v("Zhi-xhings")])])])])]),t._v(" "),s("div",{directives:[{name:"masonry",rawName:"v-masonry"}],attrs:{id:"postContainer","transition-duration":"0.3s","item-selector":".post"}},t._l(t.posts,function(t,e){return s("Post",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:t._id,attrs:{post:t}})})),t._v(" "),s("button",{staticClass:"button is-primary is-large",attrs:{id:"btn-load-more"},on:{click:function(e){t.getMorePosts(10)}}},[t._v("Load More...")]),t._v(" "),s("Modal",{attrs:{name:"postami"}},[s("NewPost")],1),t._v(" "),s("Modal",{staticClass:"calendar-modal",attrs:{name:"events-calendar"}},[s("Calendar")],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero-body"},[s("img",{attrs:{src:"/static/uwclogo.svg",alt:""}}),t._v(" "),s("h1",{staticClass:"title is-1"},[t._v("showcase")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"control"},[s("a",{staticClass:"button is-primary",attrs:{href:"#postami"}},[t._v("Make a post")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"control"},[s("a",{staticClass:"button is-primary",attrs:{href:"#events-calendar"}},[t._v("Check the calendar!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fa fa-envelope"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("vue-event-calendar",{attrs:{events:t.demoEvents}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile is-child box"},[s("h1",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),s("p",[t._v(t._s(t.text))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"title"},[t._v("Post something")]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Message")]),t._v(" "),s("div",{staticClass:"field"},[s("quill-editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Email")]),t._v(" "),s("p",{staticClass:"control has-icon has-icon-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",class:"is-"+["success","danger","danger"][t.isMailValid],attrs:{type:"text",placeholder:"Email input",value:"someone@example.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),s("p",{staticClass:"help",class:"is-"+["success","danger","danger"][t.isMailValid]},[t._v(t._s(["This is a valid email","This email is invalid","Please enter a uwcchina.org email"][t.isMailValid]))])]),t._v(" "),s("a",{staticClass:"button is-success",attrs:{href:"#",disabled:t.isMailValid>0},on:{click:t.submitPost}},[t._v("Submit")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fa fa-warning"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tile is-parent"},[t._l(t.childList,function(t){return[t.isParent?s("ParentTile",{class:t.n?t.n:" "+t.isVertical,attrs:{childList:t.childList}}):s("Tile",{attrs:{title:t.title,body:"Lorem ipsum"}})]})],2)},staticRenderFns:[]}}]),[56]);
//# sourceMappingURL=app.64dc9738b38b07ffe063.js.map